/**
 * SmartImages
 * ===========
 * SmartImages provides multiple functions:
 *
 * - Loading retina images when necessary and/or possible
 * - Making image sources responsive by swapping image sources on a predefined breakpoint.
 * - Adding lazy loading to images to only load when they come near the viewport.
 *
 * @author: Christian Engel <hello@wearekiss.com>
 * @version: 2.1 (14.11.2016)
 */
(function(){function d(a){l=a.matches;h()}function f(a,b,t,g,h){if(null===a.getAttribute("data-smart-ignore")||g){var e=a.getAttribute("data-src");g=a.getAttribute("data-src-2x");var f=a.getAttribute("data-src-mobile"),d=a.getAttribute("data-src-mobile-2x"),r=null!==a.getAttribute("data-lazy");l?(null!==f&&(e=f),k&&(null!==d?e=d:null!==g&&(e=g))):k&&null!==g&&(e=g);if(r&&(m=!0,b+a.getBoundingClientRect().top>t))return;if(h)return e||"";null!==e&&(a.src=e)}}function h(){var a,b;a=document.body.scrollTop;
b=a+1.5*window.innerHeight;for(var d=0;d<document.images.length;d++)f(document.images[d],a,b,!1,!1);m&&!n&&(n=!0,window.addEventListener("scroll",function(){clearTimeout(p);p=setTimeout(h,100)}))}var k,l,b,p,q=!0,n=!1,m=!1;k=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.25),(min-resolution: 120dpi)").matches;b=window.c=window.c||{};b.a=b.a||"(max-width: 650px)";b.b=function(){h();var a=window.matchMedia(b.a);d(a);a.addListener(d);console.log("Images are smart, now.")};b.h=function(){q=!1};
b.g=function(a){f(a,0,0,!0,!1)};b.f=function(a){return f(a,0,0,!0,!0)};window.addEventListener("load",function(){!0===q&&b.b()})})();