/**
 * SmartImages
 * ===========
 * SmartImages provides multiple functions:
 *
 * - Loading retina images when necessary and/or possible
 * - Making image sources responsive by swapping image sources on a predefined breakpoint.
 * - Adding lazy loading to images to only load when they come near the viewport.
 * - Added option to pre-define the future image sizes so the layout will be preserved for lazy images.
 * - Implemented functionality for background images of containers.
 *
 * @url: https://github.com/Paratron/smartimages
 * @author: Christian Engel <hello@wearekiss.com>
 * @version: 2.3 (05.12.2016)
 */
(function(){function w(a){x=a.matches;var b;a=document.body.scrollTop;b=a+1.5*window.innerHeight;l(a,b);q(a,b)}function y(a,b,D,d){var f=a.getAttribute("data-src"),e=a.getAttribute("data-src-2x"),h=a.getAttribute("data-src-mobile"),k=a.getAttribute("data-src-mobile-2x"),g=a.getAttribute("data-size"),m=a.getAttribute("data-size-2x"),n=a.getAttribute("data-size-mobile"),p=a.getAttribute("data-size-mobile-2x"),l=null!==a.getAttribute("data-lazy");g&&(g=g.split("x"));m&&(m=m.split("x"));n&&(n=n.split("x"));
p&&(p=p.split("x"));x?(null!==h&&(f=h,g=n),r&&(null!==k?(f=k,g=p):null!==e&&(f=e,g=m))):r&&null!==e&&(f=e,g=m);return l&&(a instanceof Image?z=!0:A=!0,b+a.getBoundingClientRect().top>D)?g&&!a.getAttribute("data-dummy")?(a.setAttribute("data-dummy","1"),a=g,t.width=a[0],t.height=a[1],t.toDataURL()):null:d?f||"":null===f?null:f}function u(a,b,d,e,f){if(null===a.getAttribute("data-smart-ignore")||e)b=y(a,b,d,f),null!==b&&(a.style.backgroundImage=b)}function v(a,b,d,e,f){if(null===a.getAttribute("data-smart-ignore")||
e)b=y(a,b,d,f),null!==b&&(a.src=b)}function l(a,b){for(var d=0;d<document.images.length;d++)v(document.images[d],a,b,!1,!1);z&&!h&&(h=!0,window.addEventListener("scroll",function(){clearTimeout(k);k=setTimeout(l,100)}))}function q(a,b){for(var d=document.querySelectorAll("[data-smartImageContainer]"),e=0;e<d.length;e++)u(d[e],a,b,!1,!1);A&&!h&&(h=!0,window.addEventListener("scroll",function(){clearTimeout(k);k=setTimeout(q,100)}))}var r,x,B=!1,d,k,C=!0,h=!1,z=!1,A=!1;r=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.25),(min-resolution: 120dpi)").matches;
d=window.c=window.c||{};d.a=d.a||"(max-width: 650px)";var t=document.createElement("canvas");d.b=function(){var a,b;B||(B=!0,a=document.body.scrollTop,b=a+1.5*window.innerHeight,l(a,b),document.querySelectorAll&&q(a,b),a=window.matchMedia(d.a),w(a),a.addListener(w),console.log("Images are smart, now."))};d.i=function(){C=!1};d.h=function(a){a instanceof Image?v(a,0,0,!0,!1):u(a,0,0,!0,!1)};d.g=function(a){return v(a,0,0,!0,!0)};d.f=function(a){return u(a,0,0,!0,!0)};window.addEventListener("load",function(){!0===C&&d.b()})})();